# Streamlit 리버스 프록시 포트포워딩 플랫폼

> ⚠️ **보안 주의사항**: 이 프로젝트는 개발/테스트 환경용입니다. 프로덕션 환경에서 사용하기 전에 반드시 기본 계정 정보를 변경하고 보안을 강화하세요.

## 📋 기능

- ✅ 포트 매핑 추가/삭제/수정
- ✅ 서버 관리 (추가/삭제/수정)
- ✅ 실시간 포트 포워딩
- ✅ 서버 상태 모니터링
- ✅ 자동 백업 시스템
- ✅ 로그인 인증 시스템
- ✅ 다크모드 지원

## 🚀 빠른 시작

Node.js 버전을 Streamlit으로 포팅한 웹 기반 리버스 프록시 관리 플랫폼입니다.

### 📝 기본 계정 정보
- **사용자명**: `admin`
- **비밀번호**: `admin123!`

> ⚠️ **중요**: 프로덕션 환경에서는 반드시 기본 계정 정보를 변경하세요!

## 🚀 주요 장점

- **가벼운 의존성**: Node.js의 `node_modules` 28MB → Python 패키지들만 필요
- **빠른 개발**: Python + Streamlit으로 간단한 UI 개발
- **데이터 분석 친화적**: Python 생태계와의 쉬운 통합
- **실시간 업데이트**: Streamlit의 자동 새로고침 기능
- **실제 포트포워딩**: Python 소켓 기반 실제 포트포워딩 구현
- **성능 최적화**: 안정적인 연결 및 최적화된 데이터 전송

## 📋 시스템 요구사항

- Python 3.8 이상
- pip 또는 conda

## 🛠️ 설치 및 실행

### 1. 의존성 설치

```bash
cd data-analysis-tools/apps/reverse_proxy_streamlit
pip install -r requirements.txt
```

### 2. 앱 실행

```bash
streamlit run app.py
```

### 3. 웹 인터페이스 접속

브라우저에서 `http://localhost:8501` 접속

**참고**: 프록시 서버는 자동으로 사용 가능한 포트를 찾아서 시작됩니다 (기본: 8080)

## 📖 사용법

### 1. 서버 등록
- "🖥️ 서버 관리" 탭에서 "새 서버 추가" 버튼 클릭
- 서버 이름과 IP 주소 입력

### 2. 포트 매핑 설정
- "📊 포트 매핑" 탭에서 "새 매핑 추가" 버튼 클릭
- 외부 포트, 대상 서버, 대상 포트 설정

### 3. 실시간 모니터링
- 사이드바에서 활성 매핑 수와 온라인 서버 수 확인
- 서버 상태 실시간 체크
- 포트포워딩 상태 및 연결 수 모니터링

## 🔧 기능

### 포트 매핑 관리
- ✅ 포트 매핑 추가/삭제
- ✅ 포트 매핑 수정
- ✅ 실시간 상태 확인
- ✅ 검색 및 필터링
- ✅ 활성/비활성 토글
- ✅ 실제 포트포워딩 자동 적용

### 서버 관리
- ✅ 서버 추가/삭제
- ✅ 서버 정보 수정
- ✅ 서버 상태 모니터링
- ✅ 온라인/오프라인 상태 표시

### 데이터 관리
- ✅ JSON 파일 기반 데이터 저장
- ✅ 데이터 백업/복원
- ✅ 설정 파일 자동 생성

### 포트포워딩 관리
- ✅ 실제 포트포워딩 구현
- ✅ 실시간 연결 모니터링
- ✅ 포트포워딩 시작/중지 제어
- ✅ 연결 수 통계

## ⚡ 성능 최적화

### Streamlit 안정성
- **자동 새로고침**: 15초 간격으로 안정적인 업데이트
- **연결 최적화**: CORS 및 XSRF 보호 비활성화로 성능 향상
- **메모리 관리**: 효율적인 세션 상태 관리

### 포트포워딩 성능
- **비동기 처리**: select 기반 비동기 데이터 전송
- **버퍼 최적화**: 8KB 버퍼로 효율적인 데이터 처리
- **연결 풀링**: TCP_NODELAY 및 KEEPALIVE 설정
- **타임아웃 관리**: 30초 타임아웃으로 안정적인 연결

### 네트워크 최적화
- **멀티스레딩**: 각 포트별 독립적 처리
- **소켓 재사용**: SO_REUSEADDR로 포트 충돌 방지
- **백로그 증가**: 10개 연결 대기열로 처리량 향상

## 📁 프로젝트 구조

```
reverse_proxy_streamlit/
├── app.py              # 메인 Streamlit 앱
├── proxy_server.py     # 프록시 서버 모듈
├── port_forwarder.py   # 포트포워딩 모듈
├── requirements.txt    # Python 의존성
└── README.md          # 프로젝트 문서

/mnt/data/             # 설정 데이터 저장소
├── port_mappings.json # 포트 매핑 데이터
└── servers.json       # 서버 정보 데이터
```

## 🔄 Node.js 버전과의 차이점

| 기능 | Node.js 버전 | Streamlit 버전 |
|------|-------------|----------------|
| 의존성 크기 | 28MB (node_modules) | ~50MB (Python 패키지) |
| 개발 속도 | 보통 | 빠름 |
| UI 개발 | HTML/CSS/JS | Streamlit 컴포넌트 |
| 실시간 통신 | Socket.IO | Streamlit 세션 |
| 데이터 저장 | JSON 파일 | JSON 파일 |
| 서버 상태 체크 | 실시간 | 주기적 |

## 🚀 향후 개선 계획

- [ ] 실제 프록시 서버 기능 추가
- [ ] 더 상세한 통계 및 차트
- [ ] 알림 기능
- [ ] 로그 관리
- [ ] API 엔드포인트 추가

## 📝 라이선스

MIT License 